<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="thymeleaf/layout/default">

<div layout:fragment="content">
	<!-- Begin Page Content -->
	<div class="container-fluid">
		<!-- DataTales Example -->
		<div class="card shadow mb-4">
			<div class="card-header py-3">
				<h6 class="m-0 font-weight-bold text-primary">직원 조회</h6>
			</div>
			<div class="card-body" th:object="${condition}">
				<div class="d-flex mb-2">
					<div class="input-group col-lg-6 mr-auto">
						<div class="input-group-prepend">
							<select class="form-control" th:field="*{type}" >
								<option value="">
									검색조건
								</option>
								<option value="name">
									이름
								</option>
								<option value="id">
									아이디
								</option>
							</select>
						</div>
						<input type="text" class="form-control" th:field="*{text}">
						<button class="col-1 col-md-2 col-sm-2 btn btn-sm btn-outline-primary mr-auto">검색</button>
					</div>
				</div>
				<div class="table-responsive">
					<table class="table table-bordered table-hover" id="dataTable" width="100%" cellspacing="0">
						<thead>
							<tr>
								<th>
									<select class="form-control">
										<option value="">
											직원권한
										</option>
										<option value="">
											교수
										</option>
										<option value="">
											행정직원
										</option>
										<option value="">
											관리자
										</option>
									</select>
								</th>
								<th>이름</th>
								<th>아이디</th>
								<th>
									<select class="form-control">
										<option value="0">
											승인여부
										</option>
										<option value="1">
											승인
										</option>
										<option value="2">
											미승인
										</option>
									</select>
								</th>
								<th>이메일</th>
								<th>승인처리</th>
								<th>삭제</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="manager : ${managerList}"> 
								<td th:text="${manager.role}"></td> 
								<td th:text="${manager.name}"></td> 
								<td>
									<a th:href="@{/account/mangerDetail/}+${manager.id}" th:text="${manager.loginId}"></a>
								</td> 
								<td th:text="${manager.isAccept == 1?'승인':'미승인'}"></td> 
								<td th:text="${manager.email}"></td> 
								<td>
									<a th:if="${manager.isAccept == 0}" th:href="@{/account/accept(id=${manager.id}, isAccept = 1)}"
									class="btn btn-sm btn-outline-info">
										승인
									</a>
									<a th:if="${manager.isAccept == 1}" th:href="@{/account/accept(id=${manager.id}, isAccept = 0)}"
									class="btn btn-sm btn-outline-danger">
										승인취소
									</a>
								</td>
								<td>
									<a class="btn btn-sm btn-outline-danger" th:href="@{/account/delete(id=${manager.id})}">
										삭제
									</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="d-flex justify-content-center">
					<ul class="pagination">
						<li class="page-item disabled" th:if="${!page.isFirst()}"><a class="page-link" th:href="@{/account/list(page=0}">처음</a></li>
						<li class="page-item" th:if="${pager.groupNo > 1 }"><a class="page-link" th:href="@{/account/list(page=${pager.startPageNo-1})}">이전</a></li>
						<th:block th:each="num : ${#numbers.sequence(pager.startPageNo,pager.endPageNo)}"> 
							<li class="page-item"><a class="page-link" th:href="@{/account/list(page=${num-1})}" th:text="${num}"></a></li>
						</th:block>
						<li class="page-item" th:if="${pager.groupNo < pager.totalGroupNo}"><a class="page-link" th:href="@{/account/list(page=${pager.endPageNo+1})}">다음</a></li>
						<li class="page-item" th:if="${!page.isLast()}"><a class="page-link" th:href="@{/account/list(page=${page.getTotalPages())}">맨끝</a></li>
					</ul>
				</div>
			</div>
		</div>

	</div>
	<!-- /.container-fluid -->

	<!-- The Modal -->
	<div class="modal" id="myModal">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">

				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">개설과목등록</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>

				<!-- Modal body -->
				<div class="modal-body">
					<table class="table table-bordered table-hover" id="dataTable" width="100%" cellspacing="0">
						<thead>
							<tr>
								<th>과목코드</th>
								<th>전공명</th>
								<th>과목명</th>
								<th>학점</th>
								<th>이수구분</th>
								<th>교수선택</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>F150E</td>
								<td>컴퓨터공학</td>
								<td>전산이론</td>
								<td>3</td>
								<td>전공필수</td>
								<td>
									<select class="form-control">
										<option value="">교수선택</option>
										<option>한항규</option>
										<option>안재엽</option>
									</select>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn btn-info" data-dismiss="modal" onclick="location.href='/education/list'">등록</button>
				</div>

			</div>
		</div>
	</div>
</div>

</html>